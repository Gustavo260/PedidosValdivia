<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyC4bFcKBLH_YG0qAluoYyuaJB4Mef9kkh0&&libraries=geometry,places,spherical&sensor=true"></script>

<script type="text/javascript">
function initMap() {
  var Valdivia = {lat: -39.82, lng: -73.26};
  var Temuco = {lat: -38.73, lng: -72.61};
	
  var map = new google.maps.Map(document.getElementById('map'), {
    center: Valdivia,
    scrollwheel: false,
    zoom: 7
  });
  
    var x1=new google.maps.LatLng(-39.827569, -73.247795);
	var x2=new google.maps.LatLng(-38.739758, -72.590190);
	var distancia = google.maps.geometry.spherical.computeDistanceBetween(x1, x2);
	alert(distancia);

  var directionsDisplay = new google.maps.DirectionsRenderer({
    map: map
  });

  // Set destination, origin and travel mode.
  var request = {
    destination: Valdivia,
    origin: Temuco,
    travelMode: google.maps.TravelMode.DRIVING
  };

  // Pass the directions request to the directions service.
  var directionsService = new google.maps.DirectionsService();
  directionsService.route(request, function(response, status) {
    if (status == google.maps.DirectionsStatus.OK) {
      // Display the route on the map.
      directionsDisplay.setDirections(response);
    }
  });
}

</script>
<body onload="initMap()">
<input type="button" onclick="init()" value="Mostrar mapa" />
<div id="map" style="width: 500px; height:400px;"></div>
	
</body>
</html>